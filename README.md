# AutoUpload

Автоматическая выгрузка новых файлов из Windows-папки на HTTP-сервер

Программа наблюдает за указанной в настройках папкой и при появлении в ней нового файла с заданным расширением, ждет окончания записи в этот файл, после чего запускает его выгрузку (POST-запрос на сервер).

## Системные требования

* Для запуска и компиляции нужен [AutoIt](http://www.autoitscript.com/site/autoit/).
* Проверена работа на Windows 7 и Windows 10 (32-bit).
* Для отправки HTTP-запроса применяется [PowerShell](https://docs.microsoft.com/powershell), достаточно версии 2, встроенной в Windows 7.

## Настройки

См. файл `config.ini`:

* `Folder` = папка, в которой надо отслеживать файлы.
* `IntervalInSeconds` = число секунд, периодичность проверки изменений в папке.
* `URL` = адрес HTTP(S)-сервера, куда будут отправляться файлы.
* `AuthKey` = ключ доступа, добавляется к каждому отправленному файлу.

Если значение `Folder` или `AuthKey` пустое, то при запуске программа запросит его у пользователя.

## Запуск

    cd src
    "C:\AutoIt\AutoIt3.exe" AutoUpload.au3

## Приём файла на сервере

Пример скрипта приёма файлов см. в `backend/upload.php`

Изначально в настройках этот скрипт уже прописан:

    URL=http://localhost:8000/upload.php

Запустить приём через встроенный в PHP веб-сервер:

    cd backend
    php -S localhost:8000
